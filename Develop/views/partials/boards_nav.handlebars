{{!-- BOARDS NAVIGATION MENU --}}


<nav>
    <div class="nav-wrapper container">
        <a href="#" data-target="my-board-nav" class="sidenav-trigger"><i class="material-icons">menu</i></a>
        <ul class="left hide-on-med-and-down">
            <li>
                <a href="#!">
                    <i class="material-icons left">add</i>
                    Add Client
                </a>
            </li>
            <li>
                <a href="#!">
                    <i class="material-icons left">add</i>
                    Add Worker
                </a>
            </li>
            <li>
                <a class="modal-trigger" href="#selectProjectModal">
                    <i class="material-icons left">developer_board</i>
                    Select Project
                </a>
            </li>
            <li>
                <a class="modal-trigger" href="#newProjectModal">
                    <i class="material-icons left">create_new_folder</i>
                    New Project
                </a>
            </li>
            <li>
                <a href="#!">
                    <i class="material-icons left">delete_forever</i>
                    Delete Project
                </a>
            </li>
            <li>
                <a href="#" class="sidenav-trigger" style="display: block; margin: 0;" data-target="comment_bar">
                    Message Board
                </a>
            </li>
        </ul>
        
    </div>
</nav>
{{!-- THIS IS FOR SMALL DISPLAYS, SHOWS AS A SLIDE OUT SIDE BAR MENU --}}
<ul class="sidenav" id="my-board-nav">
    <li><a href="#!">Add Client</a></li>
    <li><a href="#!">Add Worker</a></li>
    <li><a href="#!" id="myBtn" class="action-button">Select Project</a></li>
    <li><a href="#!" id="myBtn2" class="action-button">New Project</a></li>
    <li><a href="#!">Delete Project</a></li>
</ul>

{{!-- THIS IS COMMENT BAR THAT SLIDE IN --}}

<ul id="comment_bar" class="sidenav">
    <div class="center-align">
        <h2>Message Board</h2>
    </div>
</ul>


{{!-- MODALS! --}}


{{!-- PROJECT SELECT MODAL --}}
<div id="selectProjectModal" class="modal">
    <div class="modal-content">
        <form id="selectProjectForm" action="/api/select-projects" method="POST">
            <div class="input-field col s12">
                <select name="selectedProject" id="selectedProject" required onchange="redirectToSelectedProject(this.value)">
                {{#each projects as |project|}}
                    <option value="{{project.id}}">{{project.name}}</option>
                {{/each}}
                </select>
                <label for="selectedProject">Select a Project</label>
            </div>
        </form>
    </div>
    <div class="modal-footer">
        <a href="#!" class="modal-close waves-effect waves-green btn-flat">Cancel</a>
    </div>
    <script>
        //Redirect to the selected project board
        function redirectToSelectedProject(selectedProjectID) {
            if (selectedProjectID) {
                window.location.href = "/boards/${selectedProjectID}";
            }
        }
    </script>
</div>


{{!-- NEW PROJECT MODAL --}}
<div id="newProjectModal" class="modal">
    <div class="modal-content">
        <h4>New Project</h4>
        <form id="newProjectForm" action="/api/projects" method="POST">
            <div class="input-field col s12">
                <input type="text" name="name" id="name" required>
                <label for="name">Project Name</label>
            </div>
            <div class="input-field col s12">
                <input type="text" name="type" id="type" required>
                <label for="type">Project Type</label>
            </div>
            <div class="input-field col s12">
                <input class="datepicker" type="text" name="date_started" id="date_started" required>
                <label for="date_started">Date Started</label>
            </div>
            <div class="input-field col s12 center-align">
                <button type="submit" class="waves-effect waves-light btn-large deep-purple">Create Project</button>
            </div>
        </form>
    </div>
    <div class="modal-footer">
        <a href="#!" class="modal-close waves-effect waves-green btn-flat">Cancel</a>
    </div>
</div>